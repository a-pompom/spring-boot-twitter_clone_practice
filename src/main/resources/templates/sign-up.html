<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
	<head>
		<link rel="stylesheet" href="../css/normalize.css">
		<link rel="stylesheet" href="../css/style.css">
		<link rel="stylesheet" href="http://fonts.googleapis.com/earlyaccess/notosansjapanese.css">
		<script src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js"></script>
		<title>ユーザ登録</title>
	</head>
	<body>
		<!-- ヘッダ -->
		<header class="header">

			<div class="header__title">
			<h2>Twitterっぽいやつ</h2>
			</div>
			<div class="header__sub">
			<a th:href="@{/}" class="button--nav">ログイン</a>
			<a href="#" class="button--nav">ユーザ登録</a>
			</div>

		</header>

		<!--/* ユーザ登録 */-->
		<div class="login">
			<form th:action="@{/sign-up/save}" class="login-form" th:object="${signUpForm}">
				<p class="login__text">ユーザ登録</p>
				<div>
					<input type="text" th:field="*{dto.userId}" placeholder="ユーザID" class="field--user_id">
					<span th:if="${#fields.hasErrors('dto.userId')}" th:errors="*{dto.userId}"></span>
				</div>
				<!--/* パスワードが一致するか検証 */-->
				<span id="passwordMatcher">
					<input 
						type="password" th:field="*{dto.password}" placeholder="パスワード" 
						v-model="password" 
						class="field--password">
						<span th:if="${#fields.hasErrors('dto.password')}" th:errors="*{dto.password}"></span>
					<input type="password" th:field="*{confirmPassword}" placeholder="パスワード(確認)"
						v-model="confirmPassword" 
						class="field--password">
						<span th:if="${#fields.hasErrors('confirmPassword')}" th:errors="*{confirmPassword}"></span>

					<input type="submit" value="ユーザ登録" 
						v-bind:disabled="!passwordMatched" 
						v-bind:class="{'button--save': true, objDisabled: !passwordMatched}">
				</span>				
				
			</form> 
		</div>
		
		<script type="module" src="../js/Validator/passwordMatcher.js"></script>
	</body>
</html>
